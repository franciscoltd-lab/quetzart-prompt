<ion-header class="qz-header">
  <ion-toolbar class="qz-header">
    <ion-title>Quetzart</ion-title>

    <ion-buttons slot="end" *ngIf="auth.isLoggedIn()">
      <!-- <ion-button (click)="openNotifications()">
        <ion-icon name="notifications-outline"></ion-icon>
      </ion-button> -->
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="qz-bg">
    <div style="padding: 16px; display: grid; gap: 14px;">

      <!-- Buscador -->
      <div class="qz-glass" style="padding: 14px;">
        <ion-searchbar class="qz-input" placeholder="Buscar artistas o establecimientos"></ion-searchbar>
      </div>

      <!-- Artistas -->
      <div class="qz-glass" style="padding: 14px;">
        <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:10px;">
          <div style="font-weight:700;">Artistas</div>
          <ion-button fill="clear" size="small" (click)="openArtistsList()">Ver todos</ion-button>
        </div>

        <!-- “Carrusel” simple por ahora con scroll horizontal (luego Swiper) -->
        <div style="display:flex; gap:12px; overflow:auto; padding-bottom:6px;">
          <div *ngFor="let a of artworks"
               class="qz-glass"
               style="min-width: 160px; overflow:hidden; border-radius: 16px;"
               (click)="openArtwork(a)">
            <img [src]="a.image_url" style="width:100%; height: 180px; object-fit:cover;" />
            <div style="padding:10px;">
              <div style="font-weight:700; font-size: 14px;">{{a.title}}</div>
              <div style="font-size:12px; color: var(--qz-text-dim);">{{a.artist}}</div>
              <div style="margin-top:6px; font-weight:700;">${{a.price}}</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Establecimientos -->
      <div class="qz-glass" style="padding: 14px;">
        <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:10px;">
          <div style="font-weight:700;">Establecimientos</div>
          <ion-button fill="clear" size="small" (click)="openEstablishmentsList()">Ver todos</ion-button>
        </div>

        <div style="display:flex; gap:12px; overflow:auto; padding-bottom:6px;">
          <div *ngFor="let e of establishments"
               class="qz-glass"
               style="min-width: 220px; overflow:hidden; border-radius: 16px;"
               (click)="openEstablishment(e)">
            <img [src]="e.image_url" style="width:100%; height: 140px; object-fit:cover;" />
            <div style="padding:10px;">
              <div style="font-weight:700; font-size: 14px;">{{e.name}}</div>
              <div class="qz-pill" style="display:inline-block; margin-top:8px;">{{e.category}}</div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</ion-content>
